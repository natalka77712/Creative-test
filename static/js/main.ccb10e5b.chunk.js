(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(t,e,n){t.exports={flatItem:"Flat_flatItem__piPaI",title:"Flat_title__3HmHj",flatDescription:"Flat_flatDescription__1ehDv",agentInfo:"Flat_agentInfo__2kQGA",postLike:"Flat_postLike__2hrkh"}},27:function(t,e,n){t.exports={loader:"Flats_loader__UAeq3",header:"Flats_header__3e2ev",container:"Flats_container__38BUS"}},65:function(t,e,n){},84:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(17),r=n.n(i),s=(n(65),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))}),o=n(26),l=n(46),j=n(36),u=n(47),d=n.n(u).a.create({baseURL:"http://localhost:3004/",withCredentials:!0}),f=function(){return d.get("response")},b=function(t,e){return d.patch("response/".concat(t),{like:e})},h=[],O=Object(o.b)({flats:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-IS-LIKE":return t.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{like:e.isLike}):t}));case"SET-FLATS":return e.flats;default:return t}}}),p=Object(o.c)(O,Object(o.a)(l.a));window.store=p;n(84);var x=n(58),m=n(4),_=n(59),g=n(16),v=n(56),k=n.n(v),F=n(57),I=n.n(F),L=n(50),S=n.n(L),T=n(55),N=n.n(T),E=n(19),y=n.n(E),w=n(2),A=function(t){var e=t.flat,n=(e.id,e.attributes),c=e.relationships,a=(e.like,n.title,n.rooms,n.address),i=a.street,r=a.house,s=a.room,o=c.attributes,l=o.first_name,j=o.last_name,u=o.middle_name,d=Object(g.b)(),f=function(e){return d(function(t,e){return function(n){b(t,e).then((function(c){n(function(t,e){return{type:"SET-IS-LIKE",id:t,isLike:e}}(t,e))})).catch((function(t){console.log("some error occured")}))}}(e,!t.flat.like))};return Object(w.jsxs)("div",{className:y.a.flatItem,children:[Object(w.jsx)("img",{src:t.flat.img}),Object(w.jsx)("h2",{className:y.a.title,children:t.flat.attributes.title}),Object(w.jsxs)("div",{className:y.a.flatDescription,children:[Object(w.jsx)(S.a,{}),Object(w.jsx)("p",{children:"\u0423\u043b\u0438\u0446\u0430:".concat(i,",  \u0414\u043e\u043c:").concat(r,",  \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430:").concat(s)})]}),Object(w.jsxs)("div",{className:y.a.agentInfo,children:[Object(w.jsx)(N.a,{}),Object(w.jsx)("p",{children:"\u0410\u0433\u0435\u043d\u0442: ".concat(l,"  ").concat(j," ").concat(u)})]}),Object(w.jsxs)("div",{className:y.a.postLike,children:[Object(w.jsx)("span",{children:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0436\u0438\u043b\u044c\u0435"}),Object(w.jsx)("div",{children:t.flat.like?Object(w.jsx)(k.a,{onClick:function(){return f(t.flat.id)}}):Object(w.jsx)(I.a,{onClick:function(){return f(t.flat.id)}})})]})]})},C=n(106),D=n(107),P=n(27),B=n.n(P),U=function(){var t=Object(g.b)(),e=Object(g.c)((function(t){return t.flats})),n=Object(c.useState)(!1),a=Object(_.a)(n,2),i=a[0],r=a[1];return Object(c.useEffect)((function(){setTimeout((function(){r(!0)}),1e3),t((function(t){f().then((function(e){t({type:"SET-FLATS",flats:e.data})})).catch((function(t){console.log("some error occured")}))}))}),[]),i?Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{className:B.a.header,children:"\u0412\u0430\u0448\u0435\u043c\u0443 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438:"}),Object(w.jsx)(D.a,{container:!0,className:B.a.container,children:e.map((function(t){return Object(w.jsx)(D.a,{item:!0,children:Object(w.jsx)(A,{flat:t})},t.id)}))})]}):Object(w.jsx)("div",{className:B.a.loader,children:Object(w.jsx)(C.a,{})})};var H=function(){return Object(w.jsx)(x.a,{children:Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(m.d,{children:[Object(w.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(w.jsx)(U,{})}}),Object(w.jsx)(m.b,{exact:!0,path:"/404",render:function(){return Object(w.jsx)("h1",{style:{textAlign:"center",paddingTop:"50px"},children:"404: Page not found"})}}),Object(w.jsx)(m.a,{from:"*",to:"/404"})]})})})};r.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(g.a,{store:p,children:Object(w.jsx)(H,{})})}),document.getElementById("root")),s()}},[[92,1,2]]]);
//# sourceMappingURL=main.ccb10e5b.chunk.js.map